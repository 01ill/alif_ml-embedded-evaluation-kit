NOTE! Update submodules before building:
git submodule init
git submodule update

NOTE! Generate micronet/mobilenet models 1st with:
python set_up_default_resources.py --additional-ethos-u-config-name ethos-u55-256

NOTE! All should normally build as Release for full-speed operation. In particular,
this enables auto-vectorization for ARMCLANG. Images can still be debugged with
reasonable success, but CMAKE_BUILD_TYPE can be changed to Debug if necessary.

One build directory can be used to build multiple use cases for one target -
use separate build directories for the two subsystems.

The port supports either UART2 or UART4 for either RTSS, defaulting to UART2 always.

The instructions for the HE keyword-spotting select UART4 on the assumption that this
will be run in parallel with the HP image classification using UART2. 

Some demos use a basic 320x240 display emulating the ARM MPS3. Alif camera-based
demos use an LVGL-based UI. In both cases the display can be rotated with
-DROTATE_DISPLAY=90 or 180 or 270. The basic UI can be disabled with -DGLCD_UI=OFF -
this is done below for the HE keyword-spotting to leave the display for the other core.

; ------------ Image classification on CM55-HP with ARMCLANG ---------------------
cmake -DTARGET_PLATFORM=ensemble \
-DTARGET_SUBSYSTEM=RTSS-HP \
-DCMAKE_TOOLCHAIN_FILE=scripts/cmake/toolchains/bare-metal-armclang.cmake \
-DCMAKE_BUILD_TYPE=Release -DLOG_LEVEL=LOG_LEVEL_DEBUG ..

; ------------ Image classification on CM55-HP with GCC --------------------------
cmake -DTARGET_PLATFORM=ensemble \
-DTARGET_SUBSYSTEM=RTSS-HP \
-DCMAKE_TOOLCHAIN_FILE=scripts/cmake/toolchains/bare-metal-gcc.cmake \
-DCMAKE_BUILD_TYPE=Release -DLOG_LEVEL=LOG_LEVEL_DEBUG ..

make ethos-u-alif_img_class -j




; ------------ Keyword spotting on CM55-HE ARMCLANG ----------------------
cmake -DTARGET_PLATFORM=ensemble \
-DTARGET_SUBSYSTEM=RTSS-HE \
-DCONSOLE_UART=4 -DGLCD_UI=NO \
-DCMAKE_TOOLCHAIN_FILE=scripts/cmake/toolchains/bare-metal-armclang.cmake \
-DCMAKE_BUILD_TYPE=Release -DLOG_LEVEL=LOG_LEVEL_DEBUG ..

; ------------Keyword spotting on CM55-HE GCC ----------------------------
cmake -DTARGET_PLATFORM=ensemble \
-DTARGET_SUBSYSTEM=RTSS-HE \
-DCONSOLE_UART=4 -DGLCD_UI=NO \
-DCMAKE_TOOLCHAIN_FILE=scripts/cmake/toolchains/bare-metal-gcc.cmake \
-DCMAKE_BUILD_TYPE=Release -DLOG_LEVEL=LOG_LEVEL_DEBUG ..

make ethos-u-alif_kws -j20
